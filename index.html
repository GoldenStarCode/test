
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>trjtrypy &#8212; trjtrypy 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="trjtrypy">
<h1><a class="toc-backref" href="#id10"><strong>trjtrypy</strong></a><a class="headerlink" href="#trjtrypy" title="Permalink to this headline">¶</a></h1>
<p><strong>For latest documentation please visit:</strong> <a class="reference external" href="https://www.google.com">https://www.google.com</a></p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#trjtrypy" id="id10"><strong>trjtrypy</strong></a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id11">Introduction</a></p></li>
<li><p><a class="reference internal" href="#overview" id="id12">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#feature-mapping-used-in-calculating-d-q" id="id13">1. Feature mapping used in calculating d_Q</a></p></li>
<li><p><a class="reference internal" href="#d-q-distance-of-two-trajecetories" id="id14">2. d_Q distance of two trajecetories</a></p></li>
<li><p><a class="reference internal" href="#d-q-pi-distance-of-two-trajectories" id="id15">3. d_Q_pi distance of two trajectories</a></p></li>
<li><p><a class="reference internal" href="#visualizations" id="id16">4. Visualizations</a></p>
<ul>
<li><p><a class="reference internal" href="#drawing-landmarks-and-trajectories" id="id17">4.1. Drawing landmarks and trajectories</a></p></li>
<li><p><a class="reference internal" href="#color-coding" id="id18">4.2. Color-coding</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#curves-points-and-distances" id="id19">5. Curves, points and distances</a></p>
<ul>
<li><p><a class="reference internal" href="#the-minimum-distance-between-a-point-and-any-complicated-piecewise-linear-curve-curves" id="id20">5.1. The minimum distance between a point and any (complicated) piecewise linear curve/curves</a></p></li>
<li><p><a class="reference internal" href="#the-minimum-distance-of-all-points-in-a-set-of-points-from-a-curve-curves-simultaneously" id="id21">5.2. The minimum distance of all points in a set of points from a curve/curves simultaneously</a></p></li>
<li><p><a class="reference internal" href="#the-minimum-distance-of-a-point-set-of-points-from-a-line-segment" id="id22">5.3. The minimum distance of a point/set of points from a line segment</a></p></li>
<li><p><a class="reference internal" href="#the-closest-curve-from-a-set-of-curves-to-a-given-set-of-points" id="id23">5.4. The closest curve from a set of curves to a given set of points</a></p></li>
<li><p><a class="reference internal" href="#the-minimum-distance-between-a-set-of-points-and-a-curve" id="id24">5.5. The minimum distance between a set of points and a curve</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#installation" id="id25">Installation</a></p></li>
<li><p><a class="reference internal" href="#documentation" id="id26">Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#trjtrypy-featuremappings-curve2vec" id="id27">trjtrypy.featureMappings.curve2vec</a></p></li>
<li><p><a class="reference internal" href="#trjtrypy-distances-d-q" id="id28">trjtrypy.distances.d_Q</a></p></li>
<li><p><a class="reference internal" href="#trjtrypy-distances-d-q-pi" id="id29">trjtrypy.distances.d_Q_pi</a></p></li>
<li><p><a class="reference internal" href="#trjtrypy-visualizations-draw-landmarks-trajectory" id="id30">trjtrypy.visualizations.draw_landmarks_trajectory</a></p></li>
<li><p><a class="reference internal" href="#trjtrypy-visualizations-colorcoding" id="id31">trjtrypy.visualizations.colorcoding</a></p></li>
<li><p><a class="reference internal" href="#trjtrypy-basedists-distacne" id="id32">trjtrypy.basedists.distacne</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#further-applications" id="id33">Further applications</a></p>
<ul>
<li><p><a class="reference internal" href="#application-for-curves" id="id34">1. Application for curves</a></p></li>
<li><p><a class="reference internal" href="#application-for-two-dimensional-times-series" id="id35">2. Application for two dimensional times series</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#references" id="id36">References</a></p></li>
<li><p><a class="reference internal" href="#citation" id="id37">Citation</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="introduction">
<h2><a class="toc-backref" href="#id11">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In this package three landmark-based distances and their
feature mappings, introduced in <a class="footnote-reference brackets" href="#id8" id="id1">1</a>, <a class="footnote-reference brackets" href="#id9" id="id2">2</a>, are implemented (for more details see Overview section). Moreover, it provides
access to fundamental functions used in calculating these distances.</p>
</section>
<section id="overview">
<h2><a class="toc-backref" href="#id12">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>More details for understanding the functionality of the package:</p>
<section id="feature-mapping-used-in-calculating-d-q">
<h3><a class="toc-backref" href="#id13">1. Feature mapping used in calculating d_Q</a><a class="headerlink" href="#feature-mapping-used-in-calculating-d-q" title="Permalink to this headline">¶</a></h3>
<p>First, using a landmark set Q, an orientation-non-perserving (unsigned version) feature mapping, taken from <a class="footnote-reference brackets" href="#id8" id="id3">1</a>, is provided to convert a trajectory to a vector of length |Q|.</p>
<p>Second, using a landmark set Q and a positive parameter sigma, an orientation-perserving (signed version) feature mapping, taken from <a class="footnote-reference brackets" href="#id9" id="id4">2</a>, is provided to convert a trajectory to a vector of length |Q| that cares about the direction of curves.</p>
<p>In this package these functionalities can be accessed by the implemented curve2vec function.</p>
</section>
<section id="d-q-distance-of-two-trajecetories">
<h3><a class="toc-backref" href="#id14">2. d_Q distance of two trajecetories</a><a class="headerlink" href="#d-q-distance-of-two-trajecetories" title="Permalink to this headline">¶</a></h3>
<p>The d_Q distance of two trajectories is the normalized Euclidean distance between two vectorized trajectories via above feature mappings.</p>
<p>In this package this functionality is given by d_Q function.</p>
</section>
<section id="d-q-pi-distance-of-two-trajectories">
<h3><a class="toc-backref" href="#id15">3. d_Q_pi distance of two trajectories</a><a class="headerlink" href="#d-q-pi-distance-of-two-trajectories" title="Permalink to this headline">¶</a></h3>
<p>This is the normalized l^p-distance of the associated argmin points on trajectories obtained by landmarks Q.</p>
<p>In this package this is provided by d_Q_pi function.</p>
</section>
<section id="visualizations">
<h3><a class="toc-backref" href="#id16">4. Visualizations</a><a class="headerlink" href="#visualizations" title="Permalink to this headline">¶</a></h3>
<section id="drawing-landmarks-and-trajectories">
<h4><a class="toc-backref" href="#id17">4.1. Drawing landmarks and trajectories</a><a class="headerlink" href="#drawing-landmarks-and-trajectories" title="Permalink to this headline">¶</a></h4>
<p>Visaulizing landmarks, trajectories and distances between landmarks and the given trajectory.</p>
<p>draw_landmarks_curve function in this package does this job.</p>
</section>
<section id="color-coding">
<h4><a class="toc-backref" href="#id18">4.2. Color-coding</a><a class="headerlink" href="#color-coding" title="Permalink to this headline">¶</a></h4>
<p>Visaulizing the feature mappings in terms of color-coding.</p>
<p>colorcoding function in this package does this job.</p>
</section>
</section>
<section id="curves-points-and-distances">
<h3><a class="toc-backref" href="#id19">5. Curves, points and distances</a><a class="headerlink" href="#curves-points-and-distances" title="Permalink to this headline">¶</a></h3>
<p>By taking the advantage of distance funcion in this package one can compute the followings:</p>
<section id="the-minimum-distance-between-a-point-and-any-complicated-piecewise-linear-curve-curves">
<h4><a class="toc-backref" href="#id20">5.1. The minimum distance between a point and any (complicated) piecewise linear curve/curves</a><a class="headerlink" href="#the-minimum-distance-between-a-point-and-any-complicated-piecewise-linear-curve-curves" title="Permalink to this headline">¶</a></h4>
<p>Usage: See <a class="reference internal" href="#i" id="id5"><span>[i]</span></a>.</p>
<p>Example:</p>
<img alt="https://github.com/GoldenStarCode/test/blob/main/images/point_curve.jpeg?raw=true" src="https://github.com/GoldenStarCode/test/blob/main/images/point_curve.jpeg?raw=true" />
<p>Note: The figure is drawn by <em>draw_landmarks_trajectory</em> function of this package.</p>
<p>Remark: Notice argmin points are chosen by the smallest index if there is a tie.</p>
</section>
<section id="the-minimum-distance-of-all-points-in-a-set-of-points-from-a-curve-curves-simultaneously">
<h4><a class="toc-backref" href="#id21">5.2. The minimum distance of all points in a set of points from a curve/curves simultaneously</a><a class="headerlink" href="#the-minimum-distance-of-all-points-in-a-set-of-points-from-a-curve-curves-simultaneously" title="Permalink to this headline">¶</a></h4>
<p>Usage: See <a class="reference internal" href="#ii" id="id6"><span>[ii]</span></a>.</p>
<p>Example:</p>
<img alt="https://github.com/GoldenStarCode/test/blob/main/images/points_curve.jpeg?raw=true" src="https://github.com/GoldenStarCode/test/blob/main/images/points_curve.jpeg?raw=true" />
<p>Note: The figure is drawn by <em>draw_landmarks_trajectory</em> function of this package.</p>
<p>Remark: Notice argmin points are chosen by the smallest index if there is a tie.</p>
</section>
<section id="the-minimum-distance-of-a-point-set-of-points-from-a-line-segment">
<h4><a class="toc-backref" href="#id22">5.3. The minimum distance of a point/set of points from a line segment</a><a class="headerlink" href="#the-minimum-distance-of-a-point-set-of-points-from-a-line-segment" title="Permalink to this headline">¶</a></h4>
<p>Usage: See <a class="reference internal" href="#iii" id="id7"><span>[iii]</span></a>.</p>
<p>Examples:</p>
<img alt="https://github.com/GoldenStarCode/tmg/blob/main/point_linesegment.jpeg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/point_linesegment.jpeg?raw=true" />
<img alt="https://github.com/GoldenStarCode/tmg/blob/main/points_linesegment.jpeg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/points_linesegment.jpeg?raw=true" />
<p>Note: The figures are drawn by <em>draw_landmarks_trajectory</em> function of this package.</p>
<p>Also, this class helps in calculating:</p>
</section>
<section id="the-closest-curve-from-a-set-of-curves-to-a-given-set-of-points">
<h4><a class="toc-backref" href="#id23">5.4. The closest curve from a set of curves to a given set of points</a><a class="headerlink" href="#the-closest-curve-from-a-set-of-curves-to-a-given-set-of-points" title="Permalink to this headline">¶</a></h4>
<p>This is achievable by considering a cost function like the least mean square cost.</p>
</section>
<section id="the-minimum-distance-between-a-set-of-points-and-a-curve">
<h4><a class="toc-backref" href="#id24">5.5. The minimum distance between a set of points and a curve</a><a class="headerlink" href="#the-minimum-distance-between-a-set-of-points-and-a-curve" title="Permalink to this headline">¶</a></h4>
<p>This is not equivalent to the part 5.2 But one can do as part 5.2 then take minimum.</p>
</section>
</section>
</section>
<section id="installation">
<h2><a class="toc-backref" href="#id25">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>First of all make sure that you have already installed Python from <a class="reference external" href="https://www.python.org">https://www.python.org</a>. Then to install this package:</p>
<p><strong>With pip</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install trjtrypy
</pre></div>
</div>
<p><strong>With git</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone ....
$ cd trjtrpy
$ python setup.py install
</pre></div>
</div>
</section>
<section id="documentation">
<h2><a class="toc-backref" href="#id26">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<section id="trjtrypy-featuremappings-curve2vec">
<h3><a class="toc-backref" href="#id27">trjtrypy.featureMappings.curve2vec</a><a class="headerlink" href="#trjtrypy-featuremappings-curve2vec" title="Permalink to this headline">¶</a></h3>
<p>trjtrypy.featureMappings.curve2vec(landmarks, trajectories, version=’unsigned’, sigma=1, segIndx=False, argPnts=False)</p>
<blockquote>
<div><p>Maps each curve in curves to a vector of size len(landmarks) using the signed or unsigned
feature mapping introduced in the references.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>landmarks: ndarray of shape (len(landmarks), 2)</strong></dt><dd><p>An array of points in R^2 that their distances from trajectories should be
measured.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trajectories: ndarray of shape (len(trajectories), )</strong></dt><dd><p>Trajectories are piecewise linear curves in R^2 of shape (n, 2).
version: str (‘signed’, ‘unsigned’), default=’unsigned’
Determines which version of the feature mappings is utilized.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>sigma: float, default=1</strong></dt><dd><p>A positive real number specifying the Gaussian weight parameter employed
in the definition of the signed feature mapping. So, it will be
effective only when version=’signed’.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>segIndx: bool (True, False), default=False</strong></dt><dd><p>Being True or False determines whether the function outputs the indices
of segments selected by the landmarks.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>argPnts: bool (True, False), default=False</strong></dt><dd><p>Setting True or False specifies if the function outputs the
nearest points on trajectories to landmarks.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Returns</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>ndarray</strong></dt><dd><p>The array of mapped vectors under the signed/unsigned feature mapping. Moreover, when segIndx
or argPnts are called an array of dictionaries including the feature mapping values,
selected segments’ indices or argmin points respectively for all trajectories.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Remark</strong></p>
<p>Notice that when <code class="docutils literal notranslate"><span class="pre">version='signed'</span></code>, the trajectories passed into the function must be semi-simple (i.e., countably many self crossings are allowed).
However, the code will be run for any trajectory but it will possibly assign an incorrect sign to the values.</p>
<p><strong>Examples</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trajectory1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trajectory2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trajectories</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span> <span class="c1"># or [trajectory1, trajectory2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">landmarks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span> <span class="c1"># or [[2,-1], [3,3], [2,0]]</span>
</pre></div>
</div>
<p>Default (unsigned feature mapping):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fms</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">featureMappings</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectories</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fms</span> <span class="c1"># An array containing unsigned feature mapping of trajectories</span>
<span class="go">array([[2.12132034e+00, 1.41421356e+00, 1.41421356e+00],</span>
<span class="go">      [7.07106781e-01, 2.82842712e+00, 3.14018492e-16]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Vectorized form of trajectory1 under curve2vec feature mapping</span>
<span class="go">array([2.12132034e+00, 1.41421356e+00, 1.41421356e+00])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># Vectorized form of trajectory2 under curve2vec feature mapping</span>
<span class="go">array([7.07106781e-01, 2.82842712e+00, 3.14018492e-16])</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">version='signed'</span></code> and sigma is given:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">signfms</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">featureMappings</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectories</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signfms</span> <span class="c1"># An array containing signed feature mapping of trajectories</span>
<span class="go">array([[-3.44345942e-01,  4.28881942e-01, -4.28881942e-01],</span>
<span class="go">    [-3.12009772e-01,  1.91392993e-01, -1.57009246e-16]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signfm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Vectorized form of trajectory1 under curve2vec feature mapping</span>
<span class="go">array([-3.44345942e-01,  4.28881942e-01, -4.28881942e-01])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signfm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># Vectorized form of trajectory2 under curve2vec feature mapping</span>
<span class="go">array([-3.12009772e-01,  1.91392993e-01, -1.57009246e-16])</span>
</pre></div>
</div>
<p>In both signed and unsigned versions setting <code class="docutils literal notranslate"><span class="pre">segIndx=True</span></code> will return an array of dictionaries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">segindxfms</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">featureMapping</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectories</span><span class="p">,</span> <span class="n">segIndx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segindxfms</span> <span class="c1"># See figure 1 and figure 2</span>
<span class="go">array([{&#39;UnsignedCurve2Vec&#39;: array([2.12132034, 1.41421356, 1.41421356]), &#39;SelectedSegmentsIndex&#39;: array([0, 0, 0], dtype=int64)},</span>
<span class="go">    {&#39;UnsignedCurve2Vec&#39;: array([7.07106781e-01, 2.82842712e+00, 3.14018492e-16]), &#39;SelectedSegmentsIndex&#39;: array([12,  5, 12], dtype=int64)}],</span>
<span class="go">   dtype=object)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segindxfms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># See figure 1</span>
<span class="go">{&#39;SelectedSegmentsIndex&#39;: array([0, 0, 0]),</span>
<span class="go">&#39;UnsignedCurve2Vec&#39;: array([2.12132034, 1.41421356, 1.41421356])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segindxfms</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;SelectedSegmentsIndex&#39;</span><span class="p">]</span> <span class="c1"># Output determines that which segments of trajectory1 are selected by the landmarks. As an example, first landmark has selected the first segment (0 index segment) of trajectory1.</span>
<span class="go">array([0, 0, 0])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segindxfms</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;UnsignedCurve2Vec&#39;</span><span class="p">]</span>  <span class="c1"># Output determines landmarks unsigned distances from trajectory1. As an example, first landmark unsigned distance from trajectory1 is 2.12132034.</span>
<span class="go">array([2.12132034, 1.41421356, 1.41421356])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segindxfms</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">{&#39;UnsignedCurve2Vec&#39;: array([7.07106781e-01, 2.82842712e+00, 3.14018492e-16]), &#39;SelectedSegmentsIndex&#39;: array([12,  5, 12], dtype=int64)}</span>
</pre></div>
</div>
<p>Also, setting <code class="docutils literal notranslate"><span class="pre">argPnts=True</span></code> will return argmin points selected by landmarks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">argminfms</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">featureMappings</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectories</span><span class="p">,</span> <span class="n">argPnts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argminfms</span> <span class="c1"># See figure 1 and figure 2</span>
<span class="go">array([{&#39;UnsignedCurve2Vec&#39;: array([2.12132034, 1.41421356, 1.41421356]), &#39;ArgminPoints&#39;: array([[0.5, 0.5],</span>
<span class="go">    [2. , 2. ],</span>
<span class="go">    [1. , 1. ]])},</span>
<span class="go">    {&#39;UnsignedCurve2Vec&#39;: array([7.07106781e-01, 2.82842712e+00, 3.14018492e-16]), &#39;ArgminPoints&#39;: array([[ 1.50000000e+00, -5.00000000e-01],</span>
<span class="go">    [ 1.00000000e+00,  1.00000000e+00],</span>
<span class="go">    [ 2.00000000e+00, -2.22044605e-16]])}], dtype=object)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argminfms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># See figure 1</span>
<span class="go">{&#39;ArgminPoints&#39;: array([[0.5, 0.5],</span>
<span class="go">     [2. , 2. ],</span>
<span class="go">     [1. , 1. ]]),</span>
<span class="go">&#39;UnsignedCurve2Vec&#39;: array([2.12132034, 1.41421356, 1.41421356])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argminfms</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ArgminPoints&#39;</span><span class="p">]</span> <span class="c1"># Output determines which points of trajectory1 are selected by the landmarks. As an example, first landmark selects the point [0.5, 0.5] on trajectory1.</span>
<span class="go">array([[0.5, 0.5],</span>
<span class="go">    [2. , 2. ],</span>
<span class="go">    [1. , 1. ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argminfms</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;UnsignedCurve2Vec&#39;</span><span class="p">]</span>  <span class="c1"># Output determines landmarks unsigned distances from trajectory1. As an example, first landmark unsigned distance from trajectory1 is 2.12132034.</span>
<span class="go">array([2.12132034, 1.41421356, 1.41421356])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">argminfms</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">{&#39;UnsignedCurve2Vec&#39;: array([7.07106781e-01, 2.82842712e+00, 3.14018492e-16]), &#39;ArgminPoints&#39;: array([[ 1.50000000e+00, -5.00000000e-01],</span>
<span class="go">    [ 1.00000000e+00,  1.00000000e+00],</span>
<span class="go">    [ 2.00000000e+00, -2.22044605e-16]])}</span>
</pre></div>
</div>
<dl>
<dt>Figure 1:</dt><dd><img alt="https://github.com/GoldenStarCode/tmg/blob/main/detailtraj1.jpg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/detailtraj1.jpg?raw=true" />
</dd>
</dl>
<p>Remark: Notice argmin points are chosen by the smallest index if there is a tie.</p>
<dl>
<dt>Figure 2:</dt><dd><img alt="https://github.com/GoldenStarCode/tmg/blob/main/detailtraj2.jpg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/detailtraj2.jpg?raw=true" />
</dd>
</dl>
<p>A combination of above functionalities can also be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">featureMappings</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectories</span><span class="p">,</span> <span class="n">segIndx</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">argPnts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">array([{&#39;UnsignedCurve2Vec&#39;: array([2.12132034, 1.41421356, 1.41421356]), &#39;SelectedSegmentsIndex&#39;: array([0, 0, 0], dtype=int64), &#39;ArgminPoints&#39;: array([[0.5, 0.5],</span>
<span class="go">    [2. , 2. ],</span>
<span class="go">    [1. , 1. ]])},</span>
<span class="go">    {&#39;UnsignedCurve2Vec&#39;: array([7.07106781e-01, 2.82842712e+00, 3.14018492e-16]), &#39;SelectedSegmentsIndex&#39;: array([12,  5, 12], dtype=int64), &#39;ArgminPoints&#39;: array([[ 1.50000000e+00, -5.00000000e-01],</span>
<span class="go">    [ 1.00000000e+00,  1.00000000e+00],</span>
<span class="go">    [ 2.00000000e+00, -2.22044605e-16]])}], dtype=object)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">featureMappings</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectories</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">segIndx</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">argPnts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">array([{&#39;SignedCurve2Vec&#39;: array([-0.00911206,  0.1330272 , -0.1330272 ]), &#39;SelectedSegmentsIndex&#39;: array([0, 0, 0], dtype=int64), &#39;ArgminPoints&#39;: array([[0.5, 0.5],</span>
<span class="go">    [2. , 2. ],</span>
<span class="go">    [1. , 1. ]])},</span>
<span class="go">    {&#39;SignedCurve2Vec&#39;: array([-4.23798562e-01,  1.61426291e-04, -3.48909435e-16]), &#39;SelectedSegmentsIndex&#39;: array([12,  5, 12], dtype=int64), &#39;ArgminPoints&#39;: array([[ 1.50000000e+00, -5.00000000e-01],</span>
<span class="go">    [ 1.00000000e+00,  1.00000000e+00],</span>
<span class="go">    [ 2.00000000e+00, -2.22044605e-16]])}], dtype=object)</span>
</pre></div>
</div>
</section>
<section id="trjtrypy-distances-d-q">
<h3><a class="toc-backref" href="#id28">trjtrypy.distances.d_Q</a><a class="headerlink" href="#trjtrypy-distances-d-q" title="Permalink to this headline">¶</a></h3>
<p>trjtrypy.distances.d_Q(landmarks, trajectory1, trajectory2, version=’unsigned’, sigma=1, p=2)</p>
<blockquote>
<div><p>The landmark-based signed/unsigned distance d_Q according to the
definitions in the related references is computed.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>landmarks: ndarray of shape (len(landmarks), 2)</strong></dt><dd><p>An array containing coordinates of landmarks in each row.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trajectory1: ndarray of shape (len(trajectory1), 2)</strong></dt><dd><p>An array that contains the waypoints of trajectory1
consecutively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trajectory2: ndarray of shape (len(trajectory2), 2)</strong></dt><dd><p>An array that contains the waypoints of trajectory2
consecutively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>version: str (‘signed’, ‘unsigned’), default=’unsigned’</strong></dt><dd><p>Determines which version of the feature mappings is utilized.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>sigma: float, default=1</strong></dt><dd><p>A positive real number specifying the Gaussian weight parameter
employed in the definition of the signed distance. So, it will
be effective only when version=’signed’.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>p: float (1&lt;=p&lt;=infinity), default=2</strong></dt><dd><p>Specifies the p-norm used in calculations.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Returns</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>float</strong></dt><dd><p>The d_Q distance of trajectory1 and trajectory2.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Examples</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trajectory1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trajectory2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trajectories</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span> <span class="c1"># or [trajectory1, trajectory2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">landmarks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span> <span class="c1"># or [[2,-1], [3,3], [2,0]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">distances</span><span class="o">.</span><span class="n">d_Q</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">)</span>
<span class="go">0.5410108081367118</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">distances</span><span class="o">.</span><span class="n">d_Q</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Using 5-norm to calculate distacne of two trajcetories.</span>
<span class="go">0.641559854784373</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">distances</span><span class="o">.</span><span class="n">d_Q</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span> <span class="c1"># Using signed version of the feature mapping in computation (sigma is needed in this version).</span>
<span class="go">9.320212490006313e-35</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">distances</span><span class="o">.</span><span class="n">d_Q</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">))</span> <span class="c1"># Using infinity-norm for calculating distance of two trajectories.</span>
<span class="go">1.614308157002897e-34</span>
</pre></div>
</div>
</section>
<section id="trjtrypy-distances-d-q-pi">
<h3><a class="toc-backref" href="#id29">trjtrypy.distances.d_Q_pi</a><a class="headerlink" href="#trjtrypy-distances-d-q-pi" title="Permalink to this headline">¶</a></h3>
<p>trjtrypy.distances.d_Q_pi(landmarks, trajectory1, trajectory2, p=1)</p>
<blockquote>
<div><p>The landmark-based distance d_Q_pi according to the definition in the
related reference is computed.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>landmarks: ndarray of shape (len(landmarks), 2)</strong></dt><dd><p>An array containing coordinates of landmarks in each row.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trajectory1: ndarray of shape (len(trajectory1), 2)</strong></dt><dd><p>An array that contains the waypoints of trajectory1
consecutively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trajectory2: ndarray of shape (len(trajectory2), 2)</strong></dt><dd><p>An array that contains the waypoints of trajectory2
consecutively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>p: float (1&lt;=p&lt;=infinity), default=2</strong></dt><dd><p>Specifies the p-norm used in calculations.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Returns</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>float</strong></dt><dd><p>The d_Q_pi distance of trajectory1 and trajectory2.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Examples</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trajectory1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trajectory2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trajectories</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span> <span class="c1"># or [trajectory1, trajectory2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">landmarks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span> <span class="c1"># or [[2,-1], [3,3], [2,0]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">distances</span><span class="o">.</span><span class="n">d_Q_pi</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectory1</span><span class="p">,</span> <span class="n">trajectory2</span><span class="p">)</span>
<span class="go">1.5811388300841898</span>
</pre></div>
</div>
</section>
<section id="trjtrypy-visualizations-draw-landmarks-trajectory">
<h3><a class="toc-backref" href="#id30">trjtrypy.visualizations.draw_landmarks_trajectory</a><a class="headerlink" href="#trjtrypy-visualizations-draw-landmarks-trajectory" title="Permalink to this headline">¶</a></h3>
<p>trjtrypy.visualizations.draw_landmarks_trajectory(landmarks, trajectory, version=’unsigned’, trj=True, lndmarks=True, dists=True, argminpnts=True, zoom=None, figsize=(10,10))</p>
<blockquote>
<div><p>An interactive visualization tool that allows the user to draw landmarks,
trajectory, distances and nearest points of trajectory to the landmarks.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>landmarks: ndarray of shape (len(landmarks), 2)</strong></dt><dd><p>An array containing coordinates of landmarks in each row.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trajectory: ndarray of shape (len(trajectory), 2)</strong></dt><dd><p>An array that contains the waypoints of the trajectory
consecutively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>version: str (‘signed’, ‘unsigned’), default=’unsigned’</strong></dt><dd><p>Determines which version of the feature mappings is utilized.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trj: bool (True, False), default=True</strong></dt><dd><p>Being True or False specifies whether the trajectory should be drawn
or not.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>lndmarks: bool (True, False), default=True</strong></dt><dd><p>Setting True or False determines whether landmarks should be drawn
or not.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>dists: bool (True, False), default=True</strong></dt><dd><p>Setting True or False determines whether distances (segments connecting
a landmark to the nearest point on trajectory to that landmark) should
be drawn or not.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>argminpnts: bool (True, False), default=True</strong></dt><dd><p>Setting True or False specifies if the nearest points on
trajectory to landmarks should be drawn or not.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>zoom: float</strong></dt><dd><p>A positive float number which determines zooming in or out in
a fixed figure size.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>figsize: tuple</strong></dt><dd><p>A tuple consisting of horizontal and vertical lengths of the
output figure.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Returns</strong></dt><dd><p>A figure that can include the trajectory, landmarks, distances, argmin points according
to the selected properties by the user.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Examples</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">trajectory</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">landmarks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span> <span class="c1"># or [[-2.5,1.5], [-2.5,2], [-2.5,2.5], [-2,0], [-1.5,1], [-1.5,2.5], [-0.5,-0.5], [-0.5,0.5], [-0.5,1], [0,1.5], [0.5,-0.5], [0.5,1.5], [2,-1], [2,0.5], [2.5,0], [2.5,0.5]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span><span class="o">.</span><span class="n">visualizations</span><span class="o">.</span><span class="n">draw_landmarks_trajectory</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">trajectory</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;unsigned&#39;</span><span class="p">,</span> <span class="n">trj</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lndmarks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">argminpnts</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">zoom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://github.com/GoldenStarCode/tmg/blob/main/traj2.jpg?raw=true"><img alt="https://github.com/GoldenStarCode/tmg/blob/main/traj2.jpg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/traj2.jpg?raw=true" style="width: 600px; height: 500px;" /></a>
<p>Remark: Notice argmin points are chosen by the smallest index if there is a tie.</p>
<p>In signed version the trajectory will be drawn in a directed form. As mentioned in reference distances in end points of the trajectory is not 2-norm, so those distances are shown by dotted line segments in visualization:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="n">tt</span><span class="o">.</span><span class="n">visualizations</span><span class="o">.</span><span class="n">draw_landmarks_trajectory</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span><span class="n">trajectory</span><span class="p">,</span><span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">,</span><span class="n">trj</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">lndmarks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">dists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">argminpnts</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">zoom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://github.com/GoldenStarCode/tmg/blob/main/traj2direct.jpg?raw=true"><img alt="https://github.com/GoldenStarCode/tmg/blob/main/traj2direct.jpg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/traj2direct.jpg?raw=true" style="width: 600px; height: 500px;" /></a>
<p>Remark: Notice argmin points are chosen by the smallest index if there is a tie.</p>
</section>
<section id="trjtrypy-visualizations-colorcoding">
<h3><a class="toc-backref" href="#id31">trjtrypy.visualizations.colorcoding</a><a class="headerlink" href="#trjtrypy-visualizations-colorcoding" title="Permalink to this headline">¶</a></h3>
<p>trjtrypy.visualizations.colorcoding(vectorizedfunc, trajectory, version=’unsigned’, zoom=None, dpi=50, figsize=(10,10))</p>
<blockquote>
<div><p>Visualizing the specified feature mapping by color considering every point
on a rectangular region, that includes the trajectory, as a potential landmark.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>vectorizedfunc: A vectorized function</strong></dt><dd><p>Vectorized form of the function that is used to get the
feature mapping.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trajectory: ndarray of shape (len(trajectory), 2)</strong></dt><dd><p>An array that contains the waypoints of the trajectory
consecutively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>version: str (‘signed’, ‘unsigned’), default=’unsigned’</strong></dt><dd><p>Determines which version of the feature mappings is utilized.
For unsigned version the sequential colormap is used but for
signed version the diverging colormap is employed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>zoom: float</strong></dt><dd><p>A positive float number which determines zooming in or out in
a fixed figure size.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>dpi: int, default=50</strong></dt><dd><p>Specifies the resolution of the figure.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>figsize: tuple</strong></dt><dd><p>A tuple consisting of horizontal and vertical lengths of the
output figure.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Returns</strong></dt><dd><p>The color-coded visualization of a specified feature mapping.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Examples</strong></p>
<p>Color-coding of the unsigned version of the feature mapping:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>


<span class="n">trajectory</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span> <span class="c1"># or [[0,0], [2,2], [5,-1], [7,0]]</span>
<span class="c1"># define the feature mapping function as follows:</span>
<span class="k">def</span> <span class="nf">fmfunc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
   <span class="k">return</span> <span class="n">tt</span><span class="o">.</span><span class="n">featureMappings</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">([[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">]],</span> <span class="p">[</span><span class="n">trajectory</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1"># vectorize above function with numpy vectorize function</span>
<span class="n">fmfunc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">fmfunc</span><span class="p">)</span>
<span class="c1"># color-code</span>
<span class="n">colorcoding</span><span class="p">(</span><span class="n">fmfunc</span><span class="p">,</span> <span class="n">trajectory</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mf">.4</span><span class="p">)</span> <span class="c1"># figure 3</span>
</pre></div>
</div>
<p>Figure 3:</p>
<img alt="https://github.com/GoldenStarCode/tmg/blob/main/colorcodeunsigned.jpeg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/colorcodeunsigned.jpeg?raw=true" />
<p>Color-coding of the signed version of the feature mapping:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>


<span class="n">trajectory</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span> <span class="c1"># or [[0,0], [2,2], [5,-1], [7,0]]</span>
<span class="c1"># define the feature mapping function as follows:</span>
<span class="k">def</span> <span class="nf">fmfunc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
   <span class="k">return</span> <span class="n">tt</span><span class="o">.</span><span class="n">featureMappings</span><span class="o">.</span><span class="n">curve2vec</span><span class="p">([[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">]],</span> <span class="p">[</span><span class="n">trajectory</span><span class="p">],</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1"># vectorize above function with numpy vectorize function</span>
<span class="n">fmfunc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">fmfunc</span><span class="p">)</span>
<span class="c1"># color-code</span>
<span class="n">colorcoding</span><span class="p">(</span><span class="n">fmfunc</span><span class="p">,</span> <span class="n">trajectory</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mf">.4</span><span class="p">)</span> <span class="c1"># figure 4</span>
</pre></div>
</div>
<p>Figure 4:</p>
<img alt="https://github.com/GoldenStarCode/tmg/blob/main/colorcodesigned.jpeg?raw=true" src="https://github.com/GoldenStarCode/tmg/blob/main/colorcodesigned.jpeg?raw=true" />
</section>
<section id="trjtrypy-basedists-distacne">
<h3><a class="toc-backref" href="#id32">trjtrypy.basedists.distacne</a><a class="headerlink" href="#trjtrypy-basedists-distacne" title="Permalink to this headline">¶</a></h3>
<p>distance(points, curves, version=’unsigned’, segIndx=False, argPnts=False)</p>
<blockquote>
<div><p>Calculates the distance of each point in points from each curve in curves
at the same time.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>points: ndarray of shape (len(points),)</strong></dt><dd><p>An array that contains coordinates of points
in each row.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>curves: ndarray of shape (len(curves),)</strong></dt><dd><p>Piecewise linear curves in R^2 of shape (n, 2).
Notice n can be different for each curve.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>version: str (‘unsigned’, ‘signed’), default=’unsigned’</strong></dt><dd><p>Determines unsigned or signed distance that is going
to be computed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>segIndx: bool (True, False), default=False</strong></dt><dd><p>Being True or False determines whether the
function outputs the indices of segments selected
by the points.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>argPnts: bool (True, False), default=False</strong></dt><dd><p>Setting True or False specifies if the function outputs
the nearest points on curves to points.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Returns</strong></dt><dd><ul>
<li><dl class="simple">
<dt><strong>ndarray</strong></dt><dd><p>The array of unsigned/signed distances.
Moreover, when segIndx or argPnts are called an array of dictionaries
including the distance values, selected segments’ indices or
argmin points respectively for all curves is given.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Remark</strong></p>
<ul class="simple">
<li><p>Note that the signed version implemented here is different from the signed version used in curve2vec feature mapping. Indeed, the signed distance that is computed by distance function here is unsigned distance value with sign according to the right hand rule considering the orientation of the curve.</p></li>
<li><p>Signed version of this function will give zero for points that their sign cannot be determined by the right hand rule. As an example consider the curve [ [0,0], [1,1] ] and point [-1,-1]. Then the value of the signed version is 0.</p></li>
</ul>
<p><strong>Examples</strong></p>
<dl class="citation">
<dt class="label" id="i"><span class="brackets"><a class="fn-backref" href="#id5">i</a></span></dt>
<dd><p>The minimum distance between a point and any (complicated) piecewise linear curve/curves:</p>
</dd>
</dl>
<p>The minimum distance between a point and any (complicated) piecewise linear curve:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>


<span class="c1"># define a point</span>
<span class="n">apoint</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">]])</span>
<span class="c1"># define a curve</span>
<span class="n">curve</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>

<span class="c1"># make apoint and curve appropriate for distance function as inputs</span>
<span class="n">points</span><span class="o">=</span><span class="n">apoint</span>
<span class="n">curves</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">curve</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="c1"># compute unsigned distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># returns array([[0.5]])</span>

<span class="c1"># compute signed distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">)</span> <span class="c1"># returns array([[-0.5]])</span>
</pre></div>
</div>
<p>The minimum distance between a point and any (complicated) piecewise linear curves:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">trjtrypy</span> <span class="k">as</span> <span class="nn">tt</span>


<span class="c1"># define a point</span>
<span class="n">apoint</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">]])</span>
<span class="c1"># define curve1</span>
<span class="n">curve1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="c1"># define curve2</span>
<span class="n">curve2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>

<span class="c1"># make apoint, curve1 and curve2 appropriate for distance function as inputs</span>
<span class="n">points</span><span class="o">=</span><span class="n">apoint</span>
<span class="n">curves</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">curve1</span><span class="p">,</span> <span class="n">curve2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="c1"># compute unsigned distances</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># returns array([[0.5       ],</span>
                                      <span class="c1">#                [0.70710678]])</span>

<span class="c1"># compute signed distances</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">)</span> <span class="c1"># returns array([[-0.5],</span>
                                                        <span class="c1">#                [ 0. ]]) this is zero because point [-0.5,-0.5] is positioned at the direction of the first segment of curve2</span>
</pre></div>
</div>
<dl class="citation">
<dt class="label" id="ii"><span class="brackets"><a class="fn-backref" href="#id6">ii</a></span></dt>
<dd><p>The minimum distance of all points in a set of points from a curve/curves simultaneously:</p>
</dd>
</dl>
<p>The minimum distance of all points in a set of points from a curve simultaneously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">trjtrypy.distsbase</span> <span class="kn">import</span> <span class="n">DistsBase</span>


<span class="c1"># define a set of points</span>
<span class="n">setpoints</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span>
<span class="c1"># define a curve</span>
<span class="n">curve</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>


<span class="c1"># make setpoints and curve usable for distance function as inputs</span>
<span class="n">points</span><span class="o">=</span><span class="n">setpoints</span>
<span class="n">curves</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">curve</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="c1"># compute unsigned distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># returns array([[7.07106781e-01, 5.00000000e-01, 7.07106781e-01, 7.07106781e-01,</span>
                                      <span class="c1">#                 3.53553391e-01, 5.00000000e-01, 5.00000000e-01, 5.00000000e-01,</span>
                                      <span class="c1">#                 3.53553391e-01, 3.53553391e-01, 5.00000000e-01, 1.57009246e-16,</span>
                                      <span class="c1">#                 7.07106781e-01, 5.00000000e-01, 5.00000000e-01, 7.07106781e-01]])</span>

<span class="c1"># compute signed distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">)</span> <span class="c1"># returns array([[-7.07106781e-01,  0.00000000e+00,  7.07106781e-01,</span>
                                                        <span class="c1">#                 -7.07106781e-01,  3.53553391e-01,  5.00000000e-01,</span>
                                                        <span class="c1">#                 -5.00000000e-01, -5.00000000e-01, -3.53553391e-01,</span>
                                                        <span class="c1">#                 -3.53553391e-01,  5.00000000e-01, -1.57009246e-16,</span>
                                                        <span class="c1">#                 -7.07106781e-01,  5.00000000e-01, -5.00000000e-01,</span>
                                                        <span class="c1">#                  0.00000000e+00]])</span>
</pre></div>
</div>
<p>The minimum distance of all points in a set of points from curves simultaneously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">trjtrypy.distsbase</span> <span class="kn">import</span> <span class="n">DistsBase</span>


<span class="c1"># define a set of points</span>
<span class="n">setpoints</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span>
<span class="c1"># define curve1</span>
<span class="n">curve1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="c1"># define curve2</span>
<span class="n">curve2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>

<span class="c1"># make setpoints, curve1 and curve2 appropriate for distance function as inputs</span>
<span class="n">points</span><span class="o">=</span><span class="n">setpoints</span>
<span class="n">curves</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">curve1</span><span class="p">,</span> <span class="n">curve2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="c1"># compute unsigned distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># returns array([[7.07106781e-01, 5.00000000e-01, 7.07106781e-01, 7.07106781e-01,</span>
                                      <span class="c1">#                  3.53553391e-01, 5.00000000e-01, 5.00000000e-01, 5.00000000e-01,</span>
                                      <span class="c1">#                  3.53553391e-01, 3.53553391e-01, 5.00000000e-01, 1.57009246e-16,</span>
                                      <span class="c1">#                  7.07106781e-01, 5.00000000e-01, 5.00000000e-01, 7.07106781e-01],</span>
                                      <span class="c1">#                 [2.91547595e+00, 3.20156212e+00, 3.53553391e+00, 2.00000000e+00,</span>
                                      <span class="c1">#                  1.80277564e+00, 2.82842712e+00, 7.07106781e-01, 7.07106781e-01,</span>
                                      <span class="c1">#                  1.06066017e+00, 1.06066017e+00, 7.07106781e-01, 7.07106781e-01,</span>
                                      <span class="c1">#                  2.12132034e+00, 1.06066017e+00, 1.06066017e+00, 7.07106781e-01]])</span>

<span class="c1"># compute signed distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;signed&#39;</span><span class="p">)</span> <span class="c1"># returns array([[-7.07106781e-01,  0.00000000e+00,  7.07106781e-01,</span>
                                                        <span class="c1">#                  -7.07106781e-01,  3.53553391e-01,  5.00000000e-01,</span>
                                                        <span class="c1">#                  -5.00000000e-01, -5.00000000e-01, -3.53553391e-01,</span>
                                                        <span class="c1">#                  -3.53553391e-01,  5.00000000e-01, -1.57009246e-16,</span>
                                                        <span class="c1">#                  -7.07106781e-01,  5.00000000e-01, -5.00000000e-01,</span>
                                                        <span class="c1">#                  0.00000000e+00],</span>
                                                        <span class="c1">#                [ 2.91547595e+00,  3.20156212e+00,  3.53553391e+00,</span>
                                                        <span class="c1">#                  2.00000000e+00,  1.80277564e+00,  2.82842712e+00,</span>
                                                        <span class="c1">#                  0.00000000e+00,  7.07106781e-01,  1.06066017e+00,</span>
                                                        <span class="c1">#                  1.06066017e+00, -7.07106781e-01,  7.07106781e-01,</span>
                                                        <span class="c1">#                  -2.12132034e+00, -1.06066017e+00, -1.06066017e+00,</span>
                                                        <span class="c1">#                  -7.07106781e-01]])</span>
</pre></div>
</div>
<dl class="citation">
<dt class="label" id="iii"><span class="brackets"><a class="fn-backref" href="#id7">iii</a></span></dt>
<dd><p>The minimum distance of a point/set of points from a line segment:</p>
</dd>
</dl>
<p>The minimum distance of a point from a line segment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">trjtrypy.distsbase</span> <span class="kn">import</span> <span class="n">DistsBase</span>


<span class="c1"># define a point</span>
<span class="n">apoint</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">]])</span>
<span class="c1"># define a line segment</span>
<span class="n">linesegment</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>

<span class="c1"># make apoint and linesegment appropriate for distance function as inputs</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">apoint</span>
<span class="n">curves</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">linesegment</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="c1"># compute unsigned distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># array([[1.58113883]])</span>

<span class="c1"># compute signed distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># array([[1.58113883]])</span>
</pre></div>
</div>
<p>The minimum distance of a set of points from a line segment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">trjtrypy.distsbase</span> <span class="kn">import</span> <span class="n">DistsBase</span>



<span class="c1">#define a set of points</span>
<span class="n">setpoints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span>
<span class="c1"># define a line segment</span>
<span class="n">linesegment</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]]])</span>

<span class="c1"># make setpoints and linesegment applicable for distance function as inputs</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">setpoints</span>
<span class="n">curves</span> <span class="o">=</span> <span class="n">linesegment</span>


<span class="c1"># compute unsigned distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># array([[4.30116263, 4.60977223, 4.94974747, 3.16227766, 3.20156212,</span>
                                      <span class="c1">#         4.24264069, 1.58113883, 2.12132034, 2.47487373, 2.47487373,</span>
                                      <span class="c1">#         0.70710678, 2.12132034, 0.70710678, 0.5       , 0.5       ,</span>
                                      <span class="c1">#         0.70710678]])</span>
<span class="c1"># compute signed distance</span>
<span class="n">tt</span><span class="o">.</span><span class="n">basedists</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">curves</span><span class="p">)</span> <span class="c1"># array([[ 4.30116263,  4.60977223,  4.94974747,  3.16227766,  3.20156212,</span>
                                      <span class="c1">#          4.24264069,  1.58113883,  2.12132034,  2.47487373,  2.47487373,</span>
                                      <span class="c1">#          0.70710678,  2.12132034, -0.70710678,  0.5       , -0.5       ,</span>
                                      <span class="c1">#          0.        ]])</span>
</pre></div>
</div>
</section>
</section>
<section id="further-applications">
<h2><a class="toc-backref" href="#id33">Further applications</a><a class="headerlink" href="#further-applications" title="Permalink to this headline">¶</a></h2>
<section id="application-for-curves">
<h3><a class="toc-backref" href="#id34">1. Application for curves</a><a class="headerlink" href="#application-for-curves" title="Permalink to this headline">¶</a></h3>
<p>One can approximate any continuous curve via trajectories with a sufficient accuracy, then apply this package functionalities for the resulted approximate version of the curve.</p>
</section>
<section id="application-for-two-dimensional-times-series">
<h3><a class="toc-backref" href="#id35">2. Application for two dimensional times series</a><a class="headerlink" href="#application-for-two-dimensional-times-series" title="Permalink to this headline">¶</a></h3>
<p>By connecting consecutive points in a 2d times series one can make a trajectory in order
to use this package functionalities.</p>
</section>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id36">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id8"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p>Jeff M. Phillips and Pingfan Tang. Simple distances for trajectories via landmarks. In ACM GIS SIGSPATIAL, 2019.
<a class="reference external" href="https://dl.acm.org/doi/pdf/10.1145/3347146.3359098">https://dl.acm.org/doi/pdf/10.1145/3347146.3359098</a></p>
</dd>
<dt class="label" id="id9"><span class="brackets">2</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id4">2</a>)</span></dt>
<dd><p>Jeff M. Phillips and Hasan Pourmahmood-Aghababa. Orientation-Preserving Vectorized Distance Between Curves. MSML21, August 2021.
<a class="reference external" href="https://arxiv.org/pdf/2007.15924">https://arxiv.org/pdf/2007.15924</a></p>
</dd>
</dl>
</section>
<section id="citation">
<h2><a class="toc-backref" href="#id37">Citation</a><a class="headerlink" href="#citation" title="Permalink to this headline">¶</a></h2>
<p>If you found this package or information helpful, please cite above references.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">trjtrypy</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Hamed Khaiiate Ajami, Hasan Pourmahmood-Aghababa.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>